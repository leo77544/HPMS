
<div class="main-content" style="margin-left:0px;" id="kevin">
    <div class="breadcrumbs" id="breadcrumbs">
        <script type="text/javascript">
            try { ace.settings.check('breadcrumbs', 'fixed') } catch (e) { }
        </script>

        <ul class="breadcrumb">
            <li>
                <i class="icon-home home-icon"></i>
                <a href="#">首页</a>
            </li>
            <li class="active">安居客控制台</li>
            <li class="active">员工管理</li>
            <li class="active">员工信息</li>
        </ul><!-- .breadcrumb -->
    </div>

    <div class="page-content">
        <div class="row">

            <div class="col-xs-12">

                <div class="table-responsive">
                    <table id="sample-table-1" class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th class="center">
                                    <label>
                                        <input type="checkbox" class="ace" onclick="quanxuan()" />
                                        <span class="lbl"></span>
                                    </label>
                                </th>
                                <th>员工姓名</th>
                                <th>性别</th>
                                <th>年龄</th>
                                <th>职务名称</th>
                                <th>入职时间</th>
                                <th>薪资</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="getEmpbyid"></tbody>
                    </table>
                </div><!-- /.table-responsive -->
            </div><!-- /span -->
        </div><!-- /row -->
        <div class="box" id="box" style="width:250px;height:80px;z-index:1024;font-size:24px;font-family:微软雅黑;line-height:80px;padding-left:75px;background-color:#bcf5c2;float:left;margin-left:40%;color:#159753;display:none"> 删除成功！</div>

        <div class="box" id="putEmpTanK" style="width:250px;height:80px;z-index:1024;font-size:24px;font-family:微软雅黑;line-height:80px;padding-left:75px;background-color:#bcf5c2;float:left;margin-left:40%;color:#159753;display:none"> 修改成功！</div>



    </div><!-- /.page-content -->
</div><!-- /.main-content -->


<script>

</script>
<script>
    GetEmpByDId("", -1);
    function GetEmpByDId(EName, DId) {
        $.ajax({
            url: "/HPMS/K_PutEmpById/?EName=" + EName + "&DId=" + DId,
            type: "get",
            dataType: "json",
            success: function (data) {
                $("#getEmpbyid").empty();
                $(JSON.parse(data)).each(function () {
                    $("#getEmpbyid").append("<tr><td class='center'><label><input type='checkbox' class='ace' /><span class='lbl'></span></label></td ><td>" + this.EName + "</td><td>" + this.ESex + "</td><td>" + this.EAge + "</td><td>" + this.DName + "</td><td>" + this.EStartTime + "</td><td>" + this.ESalary + "</td><td> &nbsp;&nbsp;&nbsp;&nbsp;<div class='ui-pg-div' style='display:inline-block' onclick='putemp(this.EmployeeId)'><span class='ui-icon icon-pencil blue'></span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class='ui-pg-div' style='display:inline-block' onclick='delemp(this.EmployeeId)'><span class='ui-icon icon-trash red'></span></div></td></tr> ");

                })
            }
        })
    }
    function delemp(id) {
        $.ajax({
            url: "/HPMS/K_DelEmp/?id=" + id,
            type: "get",
            dataType: "json",
            success: function (data) {
                if (data > 0) {

                    var tab = document.getElementById("#sample-table-1");
                    var row = document.getElementById(id);
                    var index = row.rowIndex;//rowIndex属性为tr的索引值，从0开始
                    tab.deleteRow(index);  //从table中删除

                    $("#box").css("display", "inline");
                    setTimeout("tishiclose()", 1000);
                } else {
                    alert("删除失败！");
                }
            }
        })
    }
    function tishiclose() {
        $("#box").css("display", "none");
    }

    function putemp(id) {
        $.ajax({
            url: "/HPMS/K_PutEmpById/?id=" + id,
            type: "get",
            dataType: "json",
            success: function (data) { }
        })
    }
</script>