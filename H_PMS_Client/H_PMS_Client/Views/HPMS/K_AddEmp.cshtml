

<div class="main-content" style="margin-left:0px;" id="kevin_addemp">
    <div class="breadcrumbs" id="breadcrumbs">
        <script type="text/javascript">
            try { ace.settings.check('breadcrumbs', 'fixed') } catch (e) { }
        </script>

        <ul class="breadcrumb">
            <li>
                <i class="icon-home home-icon"></i>
                <a href="#">首页</a>
            </li>
            <li class="active">安居客控制台</li>
            <li class="active">员工管理</li>
            <li class="active">员工入职</li>
        </ul><!-- .breadcrumb -->
    </div>

    <div class="page-content">
        <div class="row">


            <div class="col-xs-12" style="float:left">

                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right" for="form-field-1"> 员工姓名 </label>

                        <div class="col-sm-9">
                            <input type="text" id="ename" placeholder="请输入员工姓名" class="col-xs-10 col-sm-5" />
                        </div>
                    </div>

                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right" for="form-field-2"> 员工性别 </label>

                        <div class="col-sm-9">
                            &nbsp;&nbsp;&nbsp;&nbsp;
                            <input id="esex" type="radio" name="sex" checked="checked" /> 男
                            &nbsp;&nbsp;&nbsp;&nbsp;
                            <input id="Radio1" type="radio" name="sex" /> 女
                        </div>
                    </div>

                    <div class="space-4"></div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right" for="form-field-2"> 员工年龄 </label>

                        <div class="col-sm-9">
                            <input type="text" id="eage" placeholder="请填写员工年龄（如：30）！" class="col-xs-10 col-sm-5" />
                        </div>

                    </div>

                    <div class="form-group">
                        <label class="col-sm-3 control-label no-padding-right" for="form-field-1"> 职务名称 </label>

                        <div class="col-sm-9">
                            <select id="zhiwu">
                                <option value="TC">住宅</option>
                                <option value="GJ">商铺</option>
                                <option value="XL">写字楼</option>
                                <option value="HT">别墅</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group" style="z-index:1;">
                        <label class="col-sm-3 control-label no-padding-right" for="form-field-1"> 员工月薪 </label>

                        <div class="col-sm-9" style="z-index:2;">
                            <input type="text" id="esalary" placeholder="请填写员工月薪（如：3000）" class="col-xs-10 col-sm-5" />
                        </div>
                    </div>
                    <div class="hr hr-24"></div>



                    <div class="clearfix form-actions">
                        <div class="col-md-offset-3 col-md-9">
                            <button class="btn btn-info" type="button" onclick="addEmp()">
                                <i class="icon-ok bigger-110"></i>
                                员工入职
                            </button>

                            &nbsp; &nbsp; &nbsp;
                            <button class="btn" type="reset" onclick="quxiao()">
                                <i class="icon-undo bigger-110"></i>
                                取消手续
                            </button>
                        </div>
                    </div>


                </form>
            </div><!-- /span -->
        </div><!-- /row -->

        <div class="box" id="box" style="width:250px;height:80px;z-index:9999;font-size:24px;font-family:微软雅黑;line-height:80px;padding-left:75px;background-color:#bcf5c2;float:left;margin-left:40%;color:#159753;display:none">添加成功！</div>

    </div><!-- /.page-content -->
</div><!-- /.main-content -->
<script>
    $("#eage").blur(function () {
        var num = document.getElementById('eage').value;
        if (num) {
            if (isNaN(num)) {
                document.getElementById('eage').value = "";
                document.getElementById('eage').placeholder = "输入错误，请填写阿拉伯数字！";
                return false;
            }
        }
    })
    $("#esalary").blur(function () {
        var num = document.getElementById('esalary').value;
        if (num) {
            if (isNaN(num)) {
                document.getElementById('esalary').value = "";
                document.getElementById('esalary').placeholder = "输入错误，请填写阿拉伯数字！";
                return false;
            }
        }
    })
   

    function addEmp() {
        var p = new Object();
        p.EName = $("#ename").val();
        p.ESex = $("#esex").check ? "男" : "女";
        p.EAge = $("#eage").val();
        p.ESalary = $("#esalary").val();
        p.EStartTime = Date.now.toString();
        p.DId = $("zhiwu").val();
        if (p.EName == "") {
            document.getElementById('ename').value = "";
            document.getElementById('ename').placeholder = "信息未录入，请填写员工姓名！";
        }
        if (p.EAge == "") {
            document.getElementById('eage').value = "";
            document.getElementById('eage').placeholder = "信息未录入，请填写员工年龄！";
        }
        if (p.ESalary == "") {
            document.getElementById('esalary').value = "";
            document.getElementById('esalary').placeholder = "信息未录入，请填写员工月薪！";
        }
        $.ajax({
            url: "/HPMS/K_CreateEmp", 
            type: "post",
            dataType: "json",
            data: { emp: JSON.stringify(p) },
            success: function (data) {
                if (data > 0) {
                    quxiao();
                    $("#box").css("display", "inline");
                    setTimeout("tishiclose()", 1000);
                }
            }
        })
    }
    function tishiclose() {
        $("#box").css("display", "none");
    }
    function quxiao() {
        document.getElementById('ename').value = "";
        document.getElementById('ename').placeholder = "请填写员工姓名！";
        $("#esex").check = true;
        document.getElementById('eage').value = "";
        document.getElementById('eage').placeholder = "请填写员工年龄（如：30）！";
        document.getElementById('esalary').value = "";
        document.getElementById('esalary').placeholder = "请填写员工月薪（如：3000）！";
        $("#zhiwu").text = "";
    }
</script>